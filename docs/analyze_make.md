## ya analyze-make timeline

Команда `ya analyze-make timeline` предназначена для анализа и построения таймлайна событий, происходящих в процессе сборки с использованием инструмента `ya make`. Она позволяет визуализировать, что именно и сколько времени заняло при сборке и может помочь в оптимизации и отладке сборочного процесса.

### Команда

`ya analyze-make timeline [options]`

### Функциональность

1. Сбор и анализ данных:
- Каждый раз при запуске `ya make` создается `event log` (лог событий), который сохраняется в директорий `~/.ya/evlogs/`.
- Команда `ya analyze-make timeline` строит трейс (trace) на основе этих логов для дальнейшего анализа.

2. Форматы выходных данных:
- По умолчанию, `ya analyze-make timeline` генерирует трейсы, которые могут быть отображены в браузерах Яндекс Браузер (через `browser://tracing`) и Chrome (через `chrome://tracing/`).
- Дополнительно поддерживается формат, совместимый с библиотекой `matplotlib` для визуализации.

3. Выбор файла для анализа:
- По умолчанию, команда использует последний трейс из `~/.ya/evlogs/` на текущую дату.
- При необходимости, можно явно указать файл для анализа с помощью опции `--evlog`.

**Пример**
```
$ ./ya analyze-make timeline
Open about://tracing in Chromium and load 14-27-47.ndpzv5xlrled702w.evlog.json file.
```

### Анализ сборок из задач 

При анализе задач в больших тестах, таких как `LARGE`, `YA_MAKE_2`, `YA_PACKAGE_2` и их производных, часто требуются `event` логи:

1. В описании задач должны быть ссылки на необходимые `event` логи, например: `evlog_1.json`.
2. Скачайте файл с `event` логом.
3. Постройте профиль сборки с помощью команды:

```
ya analyze-make timeline --evlog <path_to_evlog.json>
```
`<path_to_evlog.json>` — путь до загруженного файла с `event` логом.

### Опции

```
--evlog=ANALYZE_EVLOG_FILE   Анализировать лог из файла
--format=OUTPUT_FORMAT       Формат вывода, по умолчанию chromium_trace 
--plot                       Формат вывода plot (matplotlib)
-h, --help                   Справка
```
